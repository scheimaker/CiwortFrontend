import{a as c,B as g}from"./utils.67f5346b.js";import{g as l,o as d,s as u,c as m,u as w}from"./index-68602d24.94131bdb.js";const t=l(),p=async(e,a,o)=>{try{const r=(await m(t,a,o)).user;await w(r,{displayName:e});const n=r.uid,i=await c.post(`${g}/register`,{uid:n,username:e,email:a});return console.log("User registered and profile updated:",r),console.log("Backend response:",i.data),{message:"User registered successfully",user:r}}catch(s){throw console.error("Error during registration:",s.message),new Error(s.message||"Registration failed")}},U=async(e,a)=>{try{const s=(await u(t,e,a)).user,r=await s.getIdToken();return console.log("User logged in successfully:",s),{message:"Login successful",token:r}}catch(o){throw console.error("Error during login:",o.message),new Error(o.message||"Login failed")}};d(t,e=>{e?console.log("User is signed in:",e):console.log("No user is signed in.")});export{U as l,p as r};
