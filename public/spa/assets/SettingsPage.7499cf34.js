import{Q as B}from"./QSelect.0784de32.js";import{c as x,a as v,h as u,d as k,g as Q,r as b,o as g,m as y,n as W,w as c,q as s,x as p,u as w,Q as f,s as h,v as N}from"./index.6cc5e6e2.js";import{Q as S}from"./QInput.b6acc4e8.js";import{a as V,u as P,Q as M}from"./QCard.d99ae717.js";import{Q as A,a as q}from"./QPage.ab8a6537.js";import{u as D}from"./use-quasar.4d06c9b9.js";import{f as F,g as I,d as O,c as U}from"./words.fac39540.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.63c23ee3.js";import"./QItemLabel.58f47eed.js";import"./scroll.9df5c4a9.js";import"./utils.67f5346b.js";import"./index-68602d24.94131bdb.js";var H=x({name:"QBanner",props:{...V,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(t,{slots:e}){const{proxy:{$q:l}}=Q(),a=P(t,l),n=v(()=>"q-banner row items-center"+(t.dense===!0?" q-banner--dense":"")+(a.value===!0?" q-banner--dark q-dark":"")+(t.rounded===!0?" rounded-borders":"")),m=v(()=>`q-banner__actions row items-center justify-end col-${t.inlineActions===!0?"auto":"all"}`);return()=>{const r=[u("div",{class:"q-banner__avatar col-auto row items-center self-start"},k(e.avatar)),u("div",{class:"q-banner__content col text-body2"},k(e.default))],d=k(e.action);return d!==void 0&&r.push(u("div",{class:m.value},d)),u("div",{class:n.value+(t.inlineActions===!1&&d!==void 0?" q-banner--top-padding":""),role:"alert"},r)}}});const T={name:"SettingsPage",setup(){const t=b([]),e=b(null),l=b(""),a=b(""),n=D(),m=async()=>{try{const o=await F();t.value=o.map(i=>({label:i.name,value:i.id}))}catch{n.notify({color:"negative",message:"Failed to load wordbanks",position:"top"})}},r=async()=>{try{const o=await I();e.value=o.label,console.log(o)}catch{n.notify({color:"negative",message:"Failed to load wordbanks",position:"top"})}},d=async()=>{var o;if(!e.value){n.notify({color:"negative",message:"No wordbank selected!",position:"top"});return}try{await O(e.value);const i=(o=t.value.find(C=>C.value===e.value))==null?void 0:o.label;a.value=`You selected the wordbank: ${i}`,n.notify({color:"positive",message:"Wordbank selected successfully!",position:"top"})}catch{n.notify({color:"negative",message:"Failed to set the current wordbank",position:"top"})}},_=async()=>{if(!l.value.trim()){n.notify({color:"negative",message:"Please enter a valid wordbank name",position:"top"});return}try{const o=await U(l.value);t.value.push({label:o.name,value:o.id}),e.value=o.id,l.value="",n.notify({color:"positive",message:"Wordbank created successfully!",position:"top"})}catch{n.notify({color:"negative",message:"Failed to create wordbank",position:"top"})}};return g(m),g(r),{wordbankOptions:t,selectedWordbank:e,newWordbankName:l,feedbackMessage:a,confirmSelection:d,addWordbank:_}}},Y={class:"text-h7 text-center q-mb-md"};function z(t,e,l,a,n,m){return y(),W(A,{class:"q-pa-md"},{default:c(()=>[s(M,{class:"q-pa-md",style:{"max-width":"800px",margin:"auto"}},{default:c(()=>[s(q,null,{default:c(()=>[e[3]||(e[3]=p("div",{class:"text-h6 text-center q-mb-md"},"Manage Word Banks",-1)),p("div",Y,"Current Word Bank: "+w(a.selectedWordbank),1),s(B,{modelValue:a.selectedWordbank,"onUpdate:modelValue":e[0]||(e[0]=r=>a.selectedWordbank=r),options:a.wordbankOptions,label:"Select Word Bank",outlined:"",class:"q-mb-md"},null,8,["modelValue","options"]),s(f,{label:"Confirm Word Bank",color:"primary",class:"full-width q-mb-md",disable:!a.selectedWordbank,onClick:a.confirmSelection},null,8,["disable","onClick"]),e[4]||(e[4]=p("div",{class:"text-h6 text-center q-mb-md"},"Create a New Word Bank",-1)),s(S,{modelValue:a.newWordbankName,"onUpdate:modelValue":e[1]||(e[1]=r=>a.newWordbankName=r),label:"New Word Bank Name",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),s(f,{label:"Add Word Bank",color:"primary",class:"full-width q-mb-md",onClick:a.addWordbank},null,8,["onClick"]),a.feedbackMessage?(y(),W(H,{key:0,dense:"",class:"q-mt-md"},{default:c(()=>[h(w(a.feedbackMessage),1)]),_:1})):N("",!0)]),_:1}),s(q,null,{default:c(()=>[s(f,{label:"Back to Home",color:"secondary",class:"full-width q-mb-md",onClick:e[2]||(e[2]=()=>t.$router.push("/main"))})]),_:1})]),_:1})]),_:1})}var ne=j(T,[["render",z],["__scopeId","data-v-55882e0e"]]);export{ne as default};
